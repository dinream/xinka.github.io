<!DOCTYPE html>
<html lang="en">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  
  
  <title>查看动态 | Hexo</title>
  
  <meta name="author" content="John Doe" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta name="description" content="Linux 安装盘安装准备工作 准备一个空 U 盘，作为后续安装盘。 下载 rufus  U 盘 格式化软件，分区类型：选择GPT，目标系统类型UEFI（非SM） 下载地址  下载 Ubuntu iso 镜像 Ubuntu22.04.4 使用 rufus 对安装盘进行制作，配置如下 ![[Pasted image 20240406101639.png]] 磁盘分区方式：MBR和GPT，MBR的主分">
<meta property="og:type" content="article">
<meta property="og:title" content="查看动态">
<meta property="og:url" content="http://example.com/2024/04/22/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E9%85%8D%E7%BD%AE%EF%BC%9ALinux%20%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Linux 安装盘安装准备工作 准备一个空 U 盘，作为后续安装盘。 下载 rufus  U 盘 格式化软件，分区类型：选择GPT，目标系统类型UEFI（非SM） 下载地址  下载 Ubuntu iso 镜像 Ubuntu22.04.4 使用 rufus 对安装盘进行制作，配置如下 ![[Pasted image 20240406101639.png]] 磁盘分区方式：MBR和GPT，MBR的主分">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-04-22T13:14:48.761Z">
<meta property="article:modified_time" content="2024-04-22T06:22:53.210Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" media="all"></script>
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-color-dark.min.css" media="(prefers-color-scheme: dark)"></script>
    <script src="/js/kr-dark.min.js"></script>
  
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" media="all"></script>
  
  <link rel="stylesheet" id="fontawe-css" href="/vendors/font-awesome@4.7.0/css/font-awesome.min.css" media="all"></script>
  <link rel="stylesheet" id="nprogress-css" href="/vendors/nprogress@0.2.0/nprogress.css" media="all"></script>
  
  
    <link rel="stylesheet" href="/vendors/aplayer@1.10.1/dist/APlayer.min.css"></script>
  
  
    <link rel="stylesheet" href="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"></script>
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="/vendors/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="/vendors/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
    
  </style>
  
<meta name="generator" content="Hexo 7.2.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">Hexo</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>Hexo</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article itemscope itemtype="https://schema.org/Article">
    
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/04/22/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E9%85%8D%E7%BD%AE%EF%BC%9ALinux%20%E7%B3%BB%E7%BB%9F/">
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
            
            <ul class="kratos-post-meta text-center">
                <li><time datetime="2024-04-22T13:14:48.761Z" itemprop="datePublished"><i class="fa fa-calendar"></i> 2024-04-22</time></li>
                <li itemprop="author" itemscope itemtype="https://schema.org/Person">
                    <i class="fa fa-user"></i> 作者 <span itemprop="name">John Doe</span>
                </li>
                
                    <li>
                        <i class="fa fa-edit"></i> 
                        
                        
                            ~17.87K
                        
                        字
                    </li>
                
                
            </ul>
        </header>
        <div class="kratos-post-content">
            
            
            
            <hr />
            <div itemprop="articleBody"><h1 id="Linux-安装盘安装"><a href="#Linux-安装盘安装" class="headerlink" title="Linux 安装盘安装"></a>Linux 安装盘安装</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol>
<li>准备一个空 U 盘，作为后续安装盘。</li>
<li>下载 rufus  U 盘 格式化软件，分区类型：选择GPT，目标系统类型UEFI（非SM） <a target="_blank" rel="noopener" href="https://rufus.ie/zh/#google_vignette">下载地址</a> </li>
<li>下载 Ubuntu iso 镜像 <a target="_blank" rel="noopener" href="https://ubuntu.com/download/server/thank-you?version=22.04.4&architecture=amd64">Ubuntu22.04.4</a></li>
<li>使用 rufus 对安装盘进行制作，配置如下<br> ![[Pasted image 20240406101639.png]]<br> 磁盘分区方式：MBR和GPT，MBR的主分区只能划分最多4个，GPT的分区数量没有限制，这里选择 GPT。</li>
</ol>
<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><ol>
<li>开启服务器主机，进入系统 BIOS（Del键、F2键、F10键或者ESC键，依据主板型号，或者在开机界面一般会显示具体按键）</li>
<li>选择 UEFI  U 盘作为启动盘。保存并重启系统。<ul>
<li>Secure Boot设置：Security —&gt; Secure Boot —&gt; Disabled</li>
<li>Boot Option设置：Boot —&gt; Boot Option #1 —&gt; 将 UEFI USB Key: **** 选择至第一位</li>
<li>保存BIOS设置：Exit—&gt;Save Changes and Reset</li>
</ul>
</li>
<li>大部分默认设置。<ol>
<li>网络 IP 使用默认？</li>
<li>安装源：<a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu">http://mirrors.aliyun.com/ubuntu</a></li>
<li>磁盘分区：<a target="_blank" rel="noopener" href="https://blog.csdn.net/2301_79810514/article/details/137122218">参考</a><ol>
<li>SWAP 分区：Linux 的虚拟内存，建议将交换分区的大小设置为物理内存的1.5倍到2倍。</li>
<li>&#x2F;boot 分区：引导分区，建议 300-500M ；<br> 【关于是否要分&#x2F;boot分区的问题：如果你的主板bios里设置的是UEFI+GPT分区表模式，那么给ubuntu分区的时候不用设置这个&#x2F;boot分区，设置下面第3步的efi系统分区即可； 但如果你用的是legacy+MBR分区表那就正常设置&#x2F;boot分区，这个很重要，特别是装双系统或多系统时，避免破坏到其他系统的引导文件】</li>
<li>EFI引导分区，类型为逻辑分区，，默认ext4。 推荐分 512 ~ 1024M，注意：放在空间起始位置。</li>
<li>&#x2F;var 分区（可选）：log 的日志文件存放，如果不分则默认在 &#x2F; 下。如果 linux 用于服务器和经常做日志分析，建议划分。最少 300-500M，一般 2-3 G。</li>
<li>根分区（&#x2F;）：存储操作系统文件、应用程序和用户数据。建议较大，15G+；</li>
<li>home 分区：存放个人的文件，建议最大；（&#x2F; 和 &#x2F;home 之间类似 C 和 D 盘的关系）</li>
</ol>
</li>
</ol>
</li>
</ol>
<h1 id="Linux-系统配置"><a href="#Linux-系统配置" class="headerlink" title="Linux 系统配置"></a>Linux 系统配置</h1><h4 id="root-账户设置密码"><a href="#root-账户设置密码" class="headerlink" title="root 账户设置密码"></a>root 账户设置密码</h4><p>当前普通用户界面下输入命令，然后按提示两次输入密码即可。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure>

<h4 id="新增用户并且增加用户权限"><a href="#新增用户并且增加用户权限" class="headerlink" title="新增用户并且增加用户权限"></a>新增用户并且增加用户权限</h4><ol>
<li><p><code>useradd</code>：用于创建新用户账号。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd username</span><br></pre></td></tr></table></figure>
<p> 其中，<code>username</code> 是要创建的新用户的用户名。该命令会创建一个新的用户账号，并分配一个默认的用户ID和组ID。</p>
</li>
<li><p><code>passwd</code>：用于设置用户的密码。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd username</span><br></pre></td></tr></table></figure>
<p> 其中，<code>username</code> 是要设置密码的用户的用户名。该命令会提示你输入新的密码，并要求确认密码。</p>
</li>
<li><p><code>usermod</code>：用于修改用户的属性，包括用户权限。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG groupname username</span><br></pre></td></tr></table></figure>
<p> 其中，<code>groupname</code> 是要将用户添加到的用户组的组名，<code>username</code> 是要修改权限的用户的用户名。该命令会将指定用户添加到指定用户组中，从而增加用户的权限。<br> 注意：在执行 <code>usermod</code> 命令时，使用 <code>-aG</code> 选项是为了将用户添加到用户组而不覆盖用户原有的用户组。</p>
</li>
<li><p>重新登录：在完成上述步骤后，建议重新登录用户账号，以使用户权限的更改生效。</p>
</li>
</ol>
<h4 id="源配置"><a href="#源配置" class="headerlink" title="源配置"></a>源配置</h4><h6 id="1-首先备份官方自带的软件源"><a href="#1-首先备份官方自带的软件源" class="headerlink" title="1. 首先备份官方自带的软件源"></a>1. 首先备份官方自带的软件源</h6><p><code>cp /etc/apt/sources.list /etc/apt/sources.list.bak</code></p>
<h6 id="2-然后编辑修改为清华源"><a href="#2-然后编辑修改为清华源" class="headerlink" title="2.然后编辑修改为清华源"></a>2.然后编辑修改为清华源</h6><p><code>sudo gedit sources.list</code></p>
<h4 id="ssh配置"><a href="#ssh配置" class="headerlink" title="ssh配置"></a>ssh配置</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看是否安装了SSH服务</span></span><br><span class="line">ps -ef | grep ssh </span><br><span class="line"></span><br><span class="line"><span class="comment"># 没有安装的话，执行下面语句</span></span><br><span class="line">sudo apt-get update                   <span class="comment">#先更新下资源列表</span></span><br><span class="line">sudo apt-get install openssh-server   <span class="comment">#安装openssh-server</span></span><br><span class="line">sudo ps -ef | grep ssh                <span class="comment">#查看是否安装成功</span></span><br><span class="line">sudo systemctl restart sshd           <span class="comment">#重新启动SSH服务 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入ssh配置文件</span></span><br><span class="line">sudo vim  /etc/ssh/sshd_config    </span><br></pre></td></tr></table></figure>

<p><code>PermitRootLogin</code> 是一个用于配置 SSH 服务器的选项。这个选项决定了是否允许 root 用户通过 SSH 直接登录到服务器。通常情况下，为了提高安全性，最好禁止 root 用户通过 SSH 直接登录，而是使用一个普通用户登录后再通过 su 或者 sudo 切换到 root 用户来执行需要特权的操作。这样可以降低系统受到攻击的风险。<br>常见的 PermitRootLogin 选项取值包括：</p>
<ul>
<li><code>yes</code>：允许 root 用户通过 SSH 直接登录。</li>
<li><code>no</code>：禁止 root 用户通过 SSH 直接登录。</li>
<li><code>without-password</code>：允许 root 用户通过 SSH 密钥登录，但不允许使用密码登录。</li>
</ul>
<p>按i进入编辑模式，找到<code>#PermitRootLogin prohibit-password</code>，默认是注释掉的。<br>把 <code>PermitRootLogin without-password</code> 改为 <code>PermitRootLogin yes</code>，注意<code>PermitRootLogin without-password</code>被注释掉了，要去掉注释。如果没有找到<code>PermitRootLogin without-password</code>，直接文件末尾添加<code>PermitRootLogin yes</code>即可。然后按esc，输入:wq保存并退出。<br>重启sshd服务</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart sshd</span><br></pre></td></tr></table></figure>

<h4 id="驱动更新"><a href="#驱动更新" class="headerlink" title="驱动更新"></a>驱动更新</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 更新软件包列表：</span></span><br><span class="line">sudo apt update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 升级已安装的软件包：</span></span><br><span class="line">sudo apt upgrade -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 更新驱动程序：</span></span><br><span class="line">sudo apt install ubuntu-drivers-common</span><br><span class="line">sudo ubuntu-drivers autoinstall</span><br></pre></td></tr></table></figure>


<h4 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse</span><br><span class="line"> </span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="line"> </span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="line"> </span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse </span><br></pre></td></tr></table></figure>
<h4 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h4><ol>
<li><p>打开终端，使用root权限登录或者使用sudo命令获取root权限。</p>
</li>
<li><p>使用文本编辑器打开网络配置文件<code>/etc/netplan/00-installer-config.yaml</code>。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/netplan/00-installer-config.yaml</span><br></pre></td></tr></table></figure>
</li>
<li><p>在文件中，找到<code>network</code>部分，然后根据你的网络设置进行编辑。以下是一个示例配置：</p>
 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line">    <span class="attr">enp0s3:</span></span><br><span class="line">      <span class="attr">addresses:</span> [<span class="number">192.168</span><span class="number">.1</span><span class="number">.10</span><span class="string">/24</span>]</span><br><span class="line">      <span class="attr">gateway4:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line">      <span class="attr">nameservers:</span></span><br><span class="line">        <span class="attr">addresses:</span> [<span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span>, <span class="number">8.8</span><span class="number">.4</span><span class="number">.4</span>]</span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>enp0s3</code>是网络接口的名称，你需要根据你的实际网络接口名称进行替换。</li>
<li><code>addresses</code>是你的服务器的静态IP地址和子网掩码。</li>
<li><code>gateway4</code>是你的网关IP地址。</li>
<li><code>nameservers</code>是DNS服务器的IP地址。</li>
</ul>
</li>
<li><p>保存文件并关闭文本编辑器。</p>
</li>
<li><p>在终端中执行以下命令以应用配置更改：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo netplan apply</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新启动网络服务以使更改生效：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart networking</span><br></pre></td></tr></table></figure></li>
</ol>
<p>现在，你的 Ubuntu Server 已经配置了静态网络。你可以通过 ping 命令或打开浏览器测试网络连接。</p>
<h4 id="禁止自动休眠"><a href="#禁止自动休眠" class="headerlink" title="禁止自动休眠"></a>禁止自动休眠</h4><ol>
<li>执行如下命令查看休眠模式的情况，如果 sleep 状态是loaded，也就是处于自动休眠开启状态</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status sleep.target</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>接下来，执行如下命令关闭系统的自动休眠开关：</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这些命令做了以下几点：</span></span><br><span class="line"><span class="comment"># 通过mask命令，你禁用了所有休眠相关的systemd目标。</span></span><br><span class="line"><span class="comment"># 通过set-default命令，你设置默认的运行级别为多用户文本模式（即命令行界面）</span></span><br><span class="line">sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target</span><br><span class="line">sudo systemctl set-default multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment"># 如果你想要恢复自动休眠功能，可以使用以下命令：</span></span><br><span class="line">sudo systemctl unmask sleep.target suspend.target hibernate.target hybrid-sleep.target</span><br><span class="line">sudo systemctl set-default graphical.target</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>再次执行查看命令，可以看到 sleep 的状态已经变成了 masked，也就是关闭了。</p>
</li>
<li><p>编辑<code>/etc/systemd/logind.conf</code>文件：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/systemd/logind.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>在文件中找到以下行：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#IdleAction=</span></span><br><span class="line"><span class="comment">#IdleActionSec=</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将这两行的注释符号<code>#</code>移除，并设置<code>IdleAction</code>为<code>ignore</code>，<code>IdleActionSec</code>为<code>0</code>，如下所示：</p>
 <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IdleAction=ignore</span><br><span class="line">IdleActionSec=0</span><br></pre></td></tr></table></figure>
</li>
<li><p>保存文件并关闭编辑器。</p>
</li>
<li><p>使用以下命令重新加载systemd配置：</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart systemd-logind.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>完成！现在 Ubuntu Server 将不会因为无操作而自动休眠。</p>
</li>
</ol>
<h4 id="设置关盖-合盖不挂起-不睡眠"><a href="#设置关盖-合盖不挂起-不睡眠" class="headerlink" title="设置关盖&#x2F;合盖不挂起&#x2F;不睡眠"></a>设置关盖&#x2F;合盖不挂起&#x2F;不睡眠</h4><ol>
<li>通过更改登录配置文件<code>logind.conf</code>设置</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/systemd/logind.conf</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>里面影响关盖操作的变量包括<code>HandleLidSwitch</code>、<code>HandleLidSwitchExternalPower</code>和<code>HandleLidSwitchDocked</code>。<br> <code>logind.conf</code> 里面各项的含义如下：</li>
</ol>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">1. NAutoVTs</span>=<span class="number">6</span>：指定系统启动时自动分配的虚拟终端数量。</span><br><span class="line"><span class="attr">2. ReserveVT</span>=<span class="number">6</span>：指定系统保留的虚拟终端数量。</span><br><span class="line"><span class="attr">3. KillUserProcesses</span>=<span class="literal">no</span>：指定当用户注销时是否终止用户进程。</span><br><span class="line"><span class="attr">4. KillOnlyUsers</span>=：指定需要终止进程的用户列表。</span><br><span class="line"><span class="attr">5. KillExcludeUsers</span>=root：指定不需要终止进程的用户列表。</span><br><span class="line"><span class="attr">6. InhibitDelayMaxSec</span>=<span class="number">5</span>：指定阻止操作的最大延迟时间（以秒为单位）。</span><br><span class="line"><span class="attr">7. HandlePowerKey</span>=power<span class="literal">off</span>：指定按下电源键时的操作，此处设置为关机。</span><br><span class="line"><span class="attr">8. HandleSuspendKey</span>=suspend：指定按下休眠键时的操作，此处设置为休眠。</span><br><span class="line"><span class="attr">9. HandleHibernateKey</span>=hibernate：指定按下休眠键时的操作，此处设置为休眠。</span><br><span class="line"><span class="attr">10. HandleLidSwitch</span>=suspend：指定关闭笔记本电脑盖子时的操作，此处设置为休眠。</span><br><span class="line"><span class="attr">11. HandleLidSwitchExternalPower</span>=suspend：指定在外部电源连接时关闭笔记本电脑盖子的操作，此处设置为休眠。</span><br><span class="line"><span class="attr">12. HandleLidSwitchDocked</span>=ignore：指定连接到底座时关闭笔记本电脑盖子的操作，此处设置为忽略。</span><br><span class="line"><span class="attr">13. PowerKeyIgnoreInhibited</span>=<span class="literal">no</span>：指定是否忽略阻止操作的电源键按下。</span><br><span class="line"><span class="attr">14. SuspendKeyIgnoreInhibited</span>=<span class="literal">no</span>：指定是否忽略阻止操作的休眠键按下。</span><br><span class="line"><span class="attr">15. HibernateKeyIgnoreInhibited</span>=<span class="literal">no</span>：指定是否忽略阻止操作的休眠键按下。</span><br><span class="line"><span class="attr">16. LidSwitchIgnoreInhibited</span>=<span class="literal">yes</span>：指定是否忽略阻止操作的盖子关闭。</span><br><span class="line"><span class="attr">17. HoldoffTimeoutSec</span>=<span class="number">30</span>s：指定在执行操作前等待的时间（以秒为单位）。</span><br><span class="line"><span class="attr">18. IdleAction</span>=ignore：指定系统处于空闲状态时的操作，此处设置为忽略。</span><br><span class="line"><span class="attr">19. IdleActionSec</span>=<span class="number">30</span>min：指定系统处于空闲状态多长时间后执行操作（以分钟为单位）。</span><br><span class="line"><span class="attr">20. RuntimeDirectorySize</span>=<span class="number">10</span>%：指定运行时目录的最大大小，此处设置为总磁盘空间的<span class="number">10</span>%。</span><br><span class="line"><span class="attr">21. RemoveIPC</span>=<span class="literal">yes</span>：指定是否在用户注销时删除IPC对象。</span><br><span class="line"><span class="attr">22. InhibitorsMax</span>=<span class="number">8192</span>：指定系统允许的阻止操作的最大数量。</span><br></pre></td></tr></table></figure>

<p><code>HandleLidSwitch</code>: 定义笔记本电脑关闭盖子时的行为。可以设置的值有：</p>
<ul>
<li><code>ignore</code>：忽略关闭盖子的事件。</li>
<li><code>poweroff</code>：关闭电源。</li>
<li><code>reboot</code>：重新启动。</li>
<li><code>halt</code>：停止系统。</li>
<li><code>kexec</code>：通过 kexec 进行快速启动。</li>
<li><code>suspend</code>：挂起系统。</li>
<li><code>hibernate</code>：休眠系统。</li>
</ul>
<p><code>HandleLidSwitchExternalPower</code>: 定义当笔记本电脑连接外部电源时关闭盖子的行为。可以设置的值与 <code>HandleLidSwitch</code> 相同。</p>
<p><code>HandleLidSwitchDocked</code>: 定义当笔记本电脑连接到底座时关闭盖子的行为。可以设置的值与 <code>HandleLidSwitch</code> 相同。</p>
<p><code>HandlePowerKey</code>: 定义电源按钮的行为。可以设置的值与 <code>HandleLidSwitch</code> 相同。</p>
<p><code>IdleAction</code>: 定义系统空闲时的行为。可以设置的值有：</p>
<ul>
<li><code>ignore</code>：忽略空闲事件。</li>
<li><code>poweroff</code>：关闭电源。</li>
<li><code>reboot</code>：重新启动。</li>
<li><code>halt</code>：停止系统。</li>
<li><code>kexec</code>：通过 kexec 进行快速启动。</li>
<li><code>suspend</code>：挂起系统。</li>
<li><code>hibernate</code>：休眠系统。</li>
</ul>
<p><code>IdleActionSec</code>: 定义系统空闲多少秒后触发 <code>IdleAction</code>。</p>
<p><code>UserTasksMax</code>: 定义每个用户可以同时运行的任务数的最大值。</p>
<p><code>KillUserProcesses</code>: 定义当用户注销时是否终止用户的进程。可以设置的值有：</p>
<ul>
<li><code>yes</code>：终止用户的进程。</li>
<li><code>no</code>：不终止用户的进程。</li>
</ul>
<h4 id="定时自动关闭显示器"><a href="#定时自动关闭显示器" class="headerlink" title="定时自动关闭显示器"></a>定时自动关闭显示器</h4><ol>
<li>想要定时关闭显示器，可以编辑<code>/etc/default/grub</code>这个文件</li>
<li>通过修改GRUB_CMDLINE_LINUX_DEFAULT变量，你可以添加或修改传递给内核的参数，以便在启动时对系统进行自定义配置。</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ipv6.disable=1：禁用 IPv6 协议。</span></span><br><span class="line"><span class="comment"># consoleblank=300：设置控制台空闲时间为 300 秒后自动关闭。</span></span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;ipv6.disable=1 consoleblank=300&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修改完了运行<code>sudo update-grub</code>，然后重启，即可设置系统5分钟没有活动自动关闭显示器。</li>
</ol>
<h4 id="网络自动认证"><a href="#网络自动认证" class="headerlink" title="网络自动认证"></a>网络自动认证</h4><p><a target="_blank" rel="noopener" href="https://github.com/kewuaa/uestc_wifi_helper/releases/download/v0.4.1/uestc_wifi_helper-x86_64-linux">https://github.com/kewuaa/uestc_wifi_helper/releases/download/v0.4.1/uestc_wifi_helper-x86_64-linux</a></p>
<ol>
<li>将软件放在 &#x2F;root&#x2F;path&#x2F;uestc-network-login&#x2F;uestc_wifi_helper_cli-x86_64-linux</li>
<li>将脚本放在 &#x2F;root&#x2F;boot&#x2F;auto-login-uestc-network.sh</li>
<li>部署服务在 &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;auto-network-login.service</li>
<li>启动服务。</li>
</ol>
<h4 id="外接-U-盘挂载"><a href="#外接-U-盘挂载" class="headerlink" title="外接 U 盘挂载"></a>外接 U 盘挂载</h4><ol>
<li><p>确认 U 盘被正确地检测到：在终端中输入以下命令来查看系统识别的存储设备列表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br></pre></td></tr></table></figure>
<p>这将显示所有已连接的存储设备，包括 U 盘。通常，U 盘的设备名称类似于 <code>/dev/sdb</code> 或 <code>/dev/sdc</code>。</p>
</li>
<li><p>挂载 U 盘：在 Linux 中，需要将 U 盘挂载到文件系统才能访问其中的文件。首先，创建一个用于挂载的目录。在终端中输入以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /mnt/usb</span><br></pre></td></tr></table></figure>
<p>这将创建一个名为 <code>/mnt/usb</code> 的目录作为挂载点。</p>
</li>
<li><p>挂载 U 盘：使用 <code>mount</code> 命令将 U 盘挂载到刚刚创建的目录。假设 U 盘的设备名称为 <code>/dev/sdb1</code>，在终端中输入以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sdb1 /mnt/usb</span><br></pre></td></tr></table></figure>
<p>如果 U 盘有多个分区，将 <code>/dev/sdb1</code> 替换为相应的分区设备名称。</p>
</li>
<li><p>访问 U 盘中的文件：现在，可以通过访问挂载点 <code>/mnt/usb</code> 来查看和操作 U 盘中的文件。你可以使用文件管理器（如 Nautilus、Dolphin 或 Thunar）浏览 U 盘，也可以在终端中使用命令行来执行相关操作。</p>
</li>
<li><p>卸载 U 盘：在完成对 U 盘的操作后，应该将其卸载以安全地移除。在终端中输入以下命令来卸载 U 盘：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo umount /mnt/usb</span><br></pre></td></tr></table></figure>
<p>确保在操作完成后再拔出 U 盘。</p>
</li>
</ol>
<p>请注意，U 盘的设备名称和挂载点可能会根据系统和具体情况有所不同。因此，在使用上述命令时，请根据你的实际情况进行相应的调整。</p>
<h4 id="域名配置"><a href="#域名配置" class="headerlink" title="域名配置"></a>域名配置</h4><p>在 Ubuntu 22.04 TLS 上进行动态 DNS 部署的步骤：<br>0. 注册 DNS 服务商账号<br>    <a target="_blank" rel="noopener" href="https://cp.zoneedit.com/signup/">ZoneEdit - Control Panel: Sign Up</a></p>
<ol>
<li><p>安装 <code>ddclient</code>：<br>打开终端并执行以下命令来安装 <code>ddclient</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install ddclient</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 <code>ddclient</code>：<br><code>ddclient</code> 的配置文件位于 <code>/etc/ddclient.conf</code>。使用你喜欢的文本编辑器（如 nano）打开该文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/ddclient.conf</span><br></pre></td></tr></table></figure>

<p>在配置文件中，你需要提供动态 DNS 服务提供商的相关信息，例如域名、用户名、密码等。具体配置取决于你选择的动态 DNS 服务提供商。以下是一个示例配置文件的部分内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 使用动态 DNS 服务提供商的示例配置</span><br><span class="line">protocol=dyndns2</span><br><span class="line">server=members.dyndns.org</span><br><span class="line">login=username</span><br><span class="line">password=&#x27;password&#x27;</span><br><span class="line">your.domain.com</span><br><span class="line"></span><br><span class="line"># DIY</span><br><span class="line">protocol=zoneedit1</span><br><span class="line">use=if, if=eno1</span><br><span class="line">server=dns1.zoneedit.com </span><br><span class="line">ssl=yes </span><br><span class="line">login=dinream </span><br><span class="line">password=&#x27;dreamin8888&#x27; </span><br><span class="line">lm.lab302.com</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>替换示例配置中的 <code>protocol</code>、<code>server</code>、<code>login</code>、<code>password</code> 和 <code>your.domain.com</code> 为你的实际设置。请参考你选择的动态 DNS 服务提供商的文档，获取正确的配置参数。</p>
</li>
<li><p>保存并关闭配置文件。</p>
</li>
<li><p>启用并启动 <code>ddclient</code> 服务：<br>执行以下命令启用 <code>ddclient</code> 服务：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable ddclient</span><br></pre></td></tr></table></figure>

<p>然后，执行以下命令启动服务：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start ddclient</span><br></pre></td></tr></table></figure>

<p><code>ddclient</code> 将会读取配置文件并在启动时或 IP 地址变化时更新动态 DNS 记录。</p>
</li>
<li><p>验证配置：<br>执行以下命令来检查 <code>ddclient</code> 服务的状态：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status ddclient</span><br></pre></td></tr></table></figure>

<p>如果状态显示为 “active”，则表示 <code>ddclient</code> 服务已成功启动并正在运行。</p>
</li>
<li><p>查看详细信息</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ddclient -foreground  -verbose -force</span><br><span class="line"></span><br><span class="line">ddclient -daemon=0 -debug -verbose -noquiet</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>注意域名的更新在域名服务器之间可能需要一个小时左右，需要等待。<br><a target="_blank" rel="noopener" href="https://blog.cre0809.com/archives/231/">https://blog.cre0809.com/archives/231/</a><br>内网穿透：<br><a target="_blank" rel="noopener" href="https://juejin.cn/post/7346072037674418187">https://juejin.cn/post/7346072037674418187</a><br>多种方式解决：<br><a target="_blank" rel="noopener" href="https://www.oomake.com/question/9612393">如何映射我的私人IP动态变化到我的VPS IP？ - adsl - 码客 (oomake.com)</a></p>
</li>
</ol>
<h1 id="网络高级配置"><a href="#网络高级配置" class="headerlink" title="网络高级配置"></a>网络高级配置</h1><h2 id="双网卡跨网卡-iptables-完成数据转发"><a href="#双网卡跨网卡-iptables-完成数据转发" class="headerlink" title="双网卡跨网卡 iptables 完成数据转发"></a>双网卡跨网卡 iptables 完成数据转发</h2><p>目标：将主机的一个 ip 的发送包，转换为主机另一个 ip 的发送包。</p>
<ol>
<li><p>配置网卡IP地址， 配置静态IP地址， <br> &#x2F;etc&#x2F;sysconfig&#x2F;network-stripts&#x2F;ifcfg-eth0 配置网卡一， 外网卡， 可以联网<br> &#x2F;etc&#x2F;sysconfig&#x2F;network-stripts&#x2F;ifcfg-eth1 配置网卡二， 内网卡， 连接内网</p>
<p> 配置网卡配置文件<br> DEVICE&#x3D;eth1<br> IPADDR&#x3D;192.168.145.122&#x2F;&#x2F; IP地址<br> NETMASK&#x3D;255.255.255.0&#x2F;&#x2F; IP掩码<br> gateway&#x3D;192.168.142.2&#x2F;&#x2F; 外网网关地址<br> ONBOOT&#x3D;yes</p>
<p> 或者配置&#x2F;etc&#x2F;sysconfig&#x2F;network 添加网关地址<br> gateway&#x3D;192.168.142.2  &#x2F;&#x2F; 外网网关地址</p>
</li>
<li><p>打开包转发功能：</p>
<p> echo “1” &gt; &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;ip_forward</p>
</li>
<li><p>修改&#x2F;etc&#x2F;sysctl.conf文件， 让包转发功能在系统启动时自动生效：</p>
<p> net.ipv4.ip_forward &#x3D; 1</p>
</li>
<li><p>添加iptables nat路由规则： &#x2F;&#x2F; 清楚其他不需要的iptables规则</p>
<p> &#x2F;sbin&#x2F;iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE&#x2F;&#x2F; 其中网卡eth0 为外网卡。  </p>
</li>
<li><p>保存规则到&#x2F;etc&#x2F;sysconfig&#x2F;iptables 配置文件中</p>
<p> service iptables save</p>
</li>
<li><p>重新启动iptables</p>
<p> service iptables restart</p>
</li>
</ol>
<p>1、首先确保转发开关打开</p>
<pre><code>vim /etc/sysctl.conf

    net.ipv4.ip_forward = 1

sysctl -p
</code></pre>
<p>2、核对双网卡配置</p>
<pre><code>cat /etc/sysconfig/network-scripts/ifcfg-eth0
    DEVICE=eth0  
    HWADDR=  
    TYPE=Ethernet  
    UUID=61e9bdb5-b1ff-4c8f-8c19-938c834de345  
    ONBOOT=yes  
    NM_CONTROLLED=yes  
    BOOTPROTO=static  
    IPADDR=192.8.8.57  
    NETMASK=255.255.255.224  
    GATEWAY=192.8.8.62

cat /etc/sysconfig/network-scripts/ifcfg-eth2
    DEVICE=eth2
    HWADDR=
    TYPE=Ethernet
    ONBOOT=yes
    NM_CONTROLLED=no
    BOOTPROTO=static
    IPADDR=11.10.10.2
    NETMASK=255.255.255.0
</code></pre>
<p>3、执行 iptables 并保存 </p>
<pre><code>iptables -t nat -A POSTROUTING -s 11.10.10.0/24 -j SNAT  --to 192.8.8.57  
service iptables save
</code></pre>
<h2 id="局域网自动认证-TODO"><a href="#局域网自动认证-TODO" class="headerlink" title="局域网自动认证 TODO"></a>局域网自动认证 TODO</h2><p>对于学校或者公司，每次主机重启可能需要进行账号的认证，才可上网，这里实现一个脚本进行自动登录</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">一个请求</span><br><span class="line">[10.253.0.237/cgi-bin/rad_user_info?callback=jQuery]</span><br><span class="line">(http://10.253.0.237/cgi-bin/rad_user_info?callback=jQuery)</span><br><span class="line">可以获取，断开网线没有响应。</span><br><span class="line"></span><br><span class="line">jQuery(&#123;&quot;client_ip&quot;:&quot;113.54.145.42&quot;,&quot;ecode&quot;:0,&quot;error&quot;:&quot;not_online_error&quot;,&quot;error_msg&quot;:&quot;&quot;,&quot;online_ip&quot;:&quot;113.54.145.42&quot;,&quot;res&quot;:&quot;not_online_error&quot;,&quot;srun_ver&quot;:&quot;SRunCGIAuthIntfSvr V1.18 B20181212&quot;,&quot;st&quot;:1712478100&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">登录页面的请求。</span><br><span class="line">请求 URL:</span><br><span class="line">http://10.253.0.237/srun_portal_pc?ac_id=1&amp;theme=dx</span><br><span class="line">请求方法:</span><br><span class="line">GET</span><br><span class="line">Status Code:</span><br><span class="line">200 OK</span><br><span class="line">远程地址:</span><br><span class="line">10.253.0.237:80</span><br><span class="line">Referrer Policy:</span><br><span class="line">strict-origin-when-cross-origin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">请求指令</span><br><span class="line">http://10.253.0.237/cgi-bin/get_challenge?callback=jQuery112405824069609933546_1712476428639&amp;username=202321081216%40dx-uestc&amp;ip=8.8.8.8%2C+113.54.145.42</span><br><span class="line"></span><br><span class="line">Request URL:</span><br><span class="line"></span><br><span class="line">http://10.253.0.237/cgi-bin/get_challenge?callback=jQuery1124028377090795615145_1712478534516&amp;username=202321081216%40dx-uestc&amp;ip=113.54.145.42&amp;_=1712478534518</span><br><span class="line"></span><br><span class="line">Request Method:</span><br><span class="line"></span><br><span class="line">GET</span><br><span class="line"></span><br><span class="line">Status Code:</span><br><span class="line"></span><br><span class="line">502 Bad Gateway</span><br><span class="line"></span><br><span class="line">Remote Address:</span><br><span class="line"></span><br><span class="line">127.0.0.1:7890</span><br><span class="line"></span><br><span class="line">Referrer Policy:</span><br><span class="line"></span><br><span class="line">strict-origin-when-cross-origin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">如果连接成功，http://10.253.0.237/cgi-bin/rad_user_info 也可也正常获取数据，但是是字符串形式。而不是json</span><br><span class="line"></span><br><span class="line">http://10.253.0.237/cgi-bin/srun_portal?callback=jQuery112405960456199614257_1712479784865&amp;action=login&amp;username=202321081216%40dx-uestc&amp;password=%7BMD5%7Dfb5b782af15febf4ebd53a45952273b8&amp;ac_id=1&amp;ip=8.8.8.8%2C+113.54.145.42&amp;chksum=567d3b8c5bd5ef9c7f14c76b487e7ba67a3d245a&amp;info=%7BSRBX1%7D3OHj0r4O4ZBBY1c%2FRJUyhmdftyTtmQ%2BTHXWm%2BGqNqPp2dL59T78gfgRJXnmUW55cnpEZ3LfJ4NvTAu0bX76wfxQdKZrCon42SRXUdymVpUCnBoBvn1cq7pCYcgK%2BGQ7GA%2BClDLGqvIsHwc5ue8FYqip54p4C2MYgtlHTfv%3D%3D&amp;n=200&amp;type=1&amp;os=Windows+10&amp;name=Windows&amp;double_stack=0&amp;_=1712479784868</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>curl -d “username&#x3D;202321081216&amp;password&#x3D;feng0408” <a target="_blank" rel="noopener" href="http://10.253.0.237/cgi-bin/srun_portal?callback=jQueryaction=login/">http://10.253.0.237/cgi-bin/srun_portal?callback=jQueryaction=login/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Code&quot;: 0,</span><br><span class="line">    &quot;Message&quot;: &quot;ok&quot;,</span><br><span class="line">    &quot;Data&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;Id&quot;: 3,</span><br><span class="line">            &quot;Title&quot;: &quot;清水河校区办公教学区通知&quot;,</span><br><span class="line">            &quot;Content&quot;: &quot;\u003cp style=\&quot;margin-top:auto;margin-bottom: auto;text-align:left;text-indent:36px;line-height: 24px;background:white\&quot;\u003e\u003cspan style=\&quot;font-size: 18px;font-family:宋体\&quot;\u003e清水河校区办公教学区通过墙面预制网络接口连接到有线校园网。连接成功后，打开浏览器输入aaa.uestc.edu.cn弹出认证页面，可选择校园网登录或电信登录。具体使用方法如下：\u003c/span\u003e\u003c/p\u003e\u003cp style=\&quot;margin-top:auto;margin-bottom: auto;text-align:left;line-height:24px;background: white\&quot;\u003e\u003cspan style=\&quot;font-size:18px;font-family:宋体\&quot;\u003e1\u003c/span\u003e\u003cspan style=\&quot;font-size:18px;font-family: 宋体\&quot;\u003e、校园网登录：在右侧登录框输入统一身份认证信息（工资号或学号），点击校园网登录。\u003c/span\u003e\u003c/p\u003e\u003cp style=\&quot;margin-top:auto;margin-bottom: auto;text-align:left;line-height:24px;background: white\&quot;\u003e\u003cspan style=\&quot;font-size:18px;font-family:宋体\&quot;\u003e2\u003c/span\u003e\u003cspan style=\&quot;font-size:18px;font-family: 宋体\&quot;\u003e、电信登录：先点击右侧自服务按钮，进行电信账号绑定；绑定完成重新打开aaa.uestc.edu.cn，输入学校统一身份认证信息，点击电信登录。电信账号绑定流程详见《清水河有线校园网使用手册》。\u003c/span\u003e\u003c/p\u003e\u003cp style=\&quot;margin-top:auto;margin-bottom: auto;text-align:left;line-height:24px;background: white\&quot;\u003e\u003cstrong\u003e\u003cspan style=\&quot;font-size:18px;font-family:宋体\&quot;\u003e用户服务电话：61831184\u003c/span\u003e\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cbr/\u003e\u003c/p\u003e&quot;,</span><br><span class="line">            &quot;Created_by&quot;: &quot;srun&quot;,</span><br><span class="line">            &quot;Created_at&quot;: 1622792930,</span><br><span class="line">            &quot;Updated_at&quot;: 1622792930</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;Id&quot;: 2,</span><br><span class="line">            &quot;Title&quot;: &quot;清水河行政教学区有线网络割接通知&quot;,</span><br><span class="line">            &quot;Content&quot;: &quot;\u003cp style=\&quot;margin-top:5px;margin-right:0;margin-bottom:5px;margin-left: 0;text-indent:28px\&quot;\u003e\u003cspan style=\&quot;font-size: 18px;\&quot;\u003e\u003c/span\u003e\u003c/p\u003e\u003cp style=\&quot;line-height: 1.5em;\&quot;\u003e清水河校区有线网络设备已运行10年以上，故障频发，不支持IPv6，802.1X认证系统对于终端兼容性较差。为解决以上问题，信息中心协调中国电信高新西区分公司对清水河校区有线网进行改造。改造后网络使用web认证，支持IPv6协议，用户可选择校园网登录或电信登录。具体使用方法如下：\u003c/p\u003e\u003cp style=\&quot;line-height: 1.5em;\&quot;\u003e1、校园网登录：在右侧登录框输入统一身份认证信息，点击校园网登录。\u003c/p\u003e\u003cp style=\&quot;line-height: 1.5em;\&quot;\u003e2、电信登录：先点击右侧自服务按钮，进行电信账号绑定；绑定完成重新打开aaa.uestc.edu.cn，输入学校统一身份认证信息，点击电信登录。电信账号绑定流程详见《清水河有线校园网使用手册》。\u003c/p\u003e\u003cp style=\&quot;line-height: 1.5em;\&quot;\u003e我们对给您带来的不便表示歉意！如有任何疑问，请联系信息中心61831184。\u003c/p\u003e\u003cp style=\&quot;margin-top:5px;margin-right:0;margin-bottom:5px;margin-left: 0;text-indent:28px;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align:start;widows: 2;-webkit-text-stroke-width: 0px;word-spacing: 0px\&quot;\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp\u003e\u003cbr/\u003e\u003c/p\u003e&quot;,</span><br><span class="line">            &quot;Created_by&quot;: &quot;yqli&quot;,</span><br><span class="line">            &quot;Created_at&quot;: 1544507894,</span><br><span class="line">            &quot;Updated_at&quot;: 1622792876</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="程序自启动"><a href="#程序自启动" class="headerlink" title="程序自启动"></a>程序自启动</h1><p>在 Ubuntu 中，你可以使用 Systemd 来配置在系统启动时自动后台执行可执行程序。</p>
<p>下面是一些基本的步骤：</p>
<ol>
<li><p>创建一个用于 Systemd 配置的服务文件。在终端中使用以下命令创建一个新的服务文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/systemd/system/test.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>在打开的编辑器中，输入以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Test Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/path/to/test</span><br><span class="line">Type=simple</span><br><span class="line">Restart=always</span><br><span class="line">User=your_username</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>请确保将 <code>/path/to/test</code> 替换为你的可执行程序的实际路径，并将 <code>your_username</code> 替换为你的用户名。</p>
</li>
<li><p>保存并关闭文件。使用 <code>Ctrl + X</code>，然后输入 <code>Y</code> 保存文件并退出编辑器。</p>
</li>
<li><p>重新加载 Systemd 配置，使其识别新的服务文件。在终端中使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure>
</li>
<li><p>启用服务，使其在系统启动时自动运行。在终端中使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable test.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后，启动服务。在终端中使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start test.service</span><br></pre></td></tr></table></figure></li>
</ol>
<p>现在，你的可执行程序 <code>test</code> 将在系统启动时自动以后台进程的形式运行。</p>
<p>你可以使用以下命令来检查服务的状态：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status test.service</span><br></pre></td></tr></table></figure>

<p>如果需要停止服务，可以使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop test.service</span><br></pre></td></tr></table></figure>


<h1 id="后台运行程序"><a href="#后台运行程序" class="headerlink" title="后台运行程序"></a>后台运行程序</h1><ol>
<li>在执行命令时，可以使用 <code>&amp;</code> 符号将其放在命令的末尾。这样会将命令放入后台运行，并且不会阻塞当前终端。例如：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./test &amp; </span><br></pre></td></tr></table></figure></li>
<li>如果你希望程序在后台运行的同时不产生任何输出，你可以将其输出重定向到 <code>/dev/null</code>，这样输出将被丢弃。例如：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nohup ./clash-linux-amd64 &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class="line">nohup ./aaa &gt; output.log 2&gt;&amp;1 &amp;</span><br><span class="line">disown</span><br><span class="line"></span><br></pre></td></tr></table></figure>
这样，可执行程序 <code>./test</code> 将在后台运行，并与当前终端解耦。它不会阻塞当前终端，并且输出将被重定向到 <code>/dev/null</code>，不会显示在终端上。</li>
</ol>
<p>请注意，使用这种方法运行程序后，你将无法看到程序的输出。如果你需要查看程序的输出或进行其他交互操作，可能需要使用其他工具或技术来实现。</p>
<h1 id="离线安装包的使用"><a href="#离线安装包的使用" class="headerlink" title="离线安装包的使用"></a>离线安装包的使用</h1><h2 id="Centos"><a href="#Centos" class="headerlink" title="Centos"></a>Centos</h2><ol>
<li>打包 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install [package]--downloadonly --downloaddir=<span class="built_in">dir</span>/</span><br></pre></td></tr></table></figure></li>
<li>使用 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y localinstall <span class="built_in">dir</span>/*</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="查询指定域名的-IP"><a href="#查询指定域名的-IP" class="headerlink" title="查询指定域名的 IP"></a>查询指定域名的 IP</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nsloopup</span><br></pre></td></tr></table></figure>


<h1 id="日志查看"><a href="#日志查看" class="headerlink" title="日志查看"></a>日志查看</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/var/log/syslog</span><br><span class="line">/var/log/kern.log</span><br></pre></td></tr></table></figure>

<h1 id="查看显存运行情况"><a href="#查看显存运行情况" class="headerlink" title="查看显存运行情况"></a>查看显存运行情况</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 0.1 nvidia-smi</span><br></pre></td></tr></table></figure>
</div>
        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5 itemprop="copyrightNotice">本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://example.com/2024/04/22/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E9%85%8D%E7%BD%AE%EF%BC%9ALinux%20%E7%B3%BB%E7%BB%9F/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://example.com/2024/04/22/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E9%85%8D%E7%BD%AE%EF%BC%9ALinux%20%E7%B3%BB%E7%BB%9F/";
            const title         = "「」";
            const excerpt       = `Linux 安装盘安装准备工作
准备一个空 U 盘，作为后续安装盘。
下载 rufus  U 盘 格式化软件，分区类型：选择GPT，目标系统类型UEFI（非SM） 下载地址 
下载 Ubuntu iso 镜像 Ubuntu22.04....`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    
                </div>
                <div class="pull-date">
                    <time datetime="2024-04-22T06:22:53.210Z" itemprop="dateModified">最后编辑：2024-04-22</time>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" (无标题)" href="/2024/04/22/工具教程/教程：Wandb/">&lt; 上一篇</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" (无标题)" href="/2024/04/22/工具教程/配置：VMWare/">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" loading="lazy" decoding="auto" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"></p>
    </div>
    <div class="site-meta">
        <a class="meta-item" href="/archives/">
            <span class="title">
                文章
            </span>
            <span class="count">
                97
            </span>
        </a>
        <a class="meta-item" href="/categories/">
            <span class="title">
                分类
            </span>
            <span class="count">
                0
            </span>
        </a>
        <a class="meta-item" href="/tags/">
            <span class="title">
                标签
            </span>
            <span class="count">
                0
            </span>
        </a>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                

            
                
            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
        
          
          
        
          
          
        
          
          
            <a class="list-group-item" href="/2024/04/22/TEMP%EF%BC%9A%E4%B8%AD%E9%93%81/"><i class="fa  fa-book"></i> Hello Worldaaaaaaa</a>
            
          
        
          
          
        
          
          
            <a class="list-group-item" href="/2024/04/22/%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D/"><i class="fa  fa-book"></i> Englislearning</a>
            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
            <a class="list-group-item" href="/2024/04/22/hello-world/"><i class="fa  fa-book"></i> Hello Worldaaaaaaa</a>
            
          
        
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        <!-- Keep for compatibility -->
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <!-- New links -->
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2024 Hexo 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by John Doe.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="/vendors/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="/vendors/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>


    <script async src="/js/candy.min.js"></script>



    <script defer src="/vendors/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="/vendors/meting@2.0.1/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="3204190542"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>